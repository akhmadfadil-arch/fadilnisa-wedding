<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Undangan Pernikahan Nisa &amp; Fadil</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Undangan pernikahan Nisa &amp; Fadil - Minggu, 28 Desember 2025 di Gedung Sepintu Sedulang, Sungailiat, Bangka, Kepulauan Bangka Belitung.">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&family=Great+Vibes&display=swap" rel="stylesheet">

  <style>
    :root {
      --primary: #c49a6c;
      --primary-deep: #a1703d;
      --bg: #f7f2ea;
      --bg-soft: #fdf8f2;
      --text: #2f2720;
      --card-bg: #ffffff;
      --shadow-soft: 0 14px 32px rgba(0,0,0,0.06);
      --radius-xl: 24px;
      --radius-full: 999px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: "Nunito", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background:
        radial-gradient(circle at top, #fdf3e4 0, #f7f2ea 38%, #f2e7db 100%),
        url("img/bg-pattern.png") center/320px repeat;
      color: var(--text);
      line-height: 1.6;
      scroll-behavior: smooth;
    }
    body.locked { overflow: hidden; }

    img { max-width: 100%; display: block; }
    a { text-decoration: none; color: inherit; }

    .container {
      width: 100%;
      max-width: 1080px;
      margin: 0 auto;
      padding: 0 1.25rem;
    }

    section {
      padding: 3.2rem 0;
      position: relative;
      overflow: hidden;
    }

    @media (min-width: 768px) {
      section { padding: 4.4rem 0; }
      .container { padding: 0 1.5rem; }
    }

    /* hiasan lembut di tiap section */
    .section-decor {
      position: relative;
    }
    .section-decor::before,
    .section-decor::after {
      content: "";
      position: absolute;
      width: 140px;
      height: 140px;
      border-radius: 50%;
      background:
        radial-gradient(circle at center, rgba(244,214,179,0.55), transparent 60%);
      opacity: 0.4;
      pointer-events: none;
      z-index: -1;
    }
    .section-decor::before {
      top: -50px;
      left: -20px;
    }
    .section-decor::after {
      bottom: -60px;
      right: -30px;
    }

    .section-title {
      text-align: center;
      font-family: "Cinzel", serif;
      font-size: 1.6rem;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #8d6e4f;
      margin-bottom: 0.3rem;
      position: relative;
      text-shadow: 0 2px 6px rgba(255,255,255,0.6);
    }
    .section-title::before,
    .section-title::after {
      content: "‚ùÄ";
      font-size: 0.9rem;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      color: #d1a675;
      opacity: 0.7;
    }
    .section-title::before { left: 8px; }
    .section-title::after { right: 8px; }

    .section-subtitle {
      text-align: center;
      font-size: 0.82rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: #b39771;
      margin-bottom: 2rem;
    }

    .section-divider {
      width: 80px;
      height: 1px;
      background: linear-gradient(to right, transparent, #c9a177, transparent);
      margin: 0.5rem auto 2.1rem;
      position: relative;
    }
    .section-divider::before {
      content: "‚úª";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -51%);
      font-size: 0.7rem;
      color: #c49a6c;
      background: rgba(247,242,234,0.95);
      padding: 0 0.4rem;
      border-radius: 999px;
      box-shadow: 0 0 0 3px rgba(255,255,255,0.8);
    }

    /* ================= COVER ================= */
    #cover {
      position: fixed;
      inset: 0;
      z-index: 60;
      display: flex;
      align-items: center;
      justify-content: center;
      background:
        linear-gradient(to bottom, rgba(0,0,0,0.4), rgba(0,0,0,0.9)),
        url("img/bg-hero.jpeg") center center / cover no-repeat;
    }

    #coverInner {
      width: 100%;
      max-width: 480px;
      margin: 0 1.3rem;
      border-radius: 26px;
      padding: 2.1rem 1.6rem 1.8rem;
      background:
        radial-gradient(circle at top left, rgba(255,255,255,0.24), rgba(24,16,10,0.8)),
        url("img/bg-pattern.png") center/260px repeat;
      border: 1px solid rgba(255,255,255,0.6);
      color: #fff;
      text-align: center;
      box-shadow: 0 26px 60px rgba(0,0,0,0.7);
      position: relative;
      overflow: hidden;
    }
    #coverInner::before,
    #coverInner::after {
      content: "";
      position: absolute;
      border-radius: 50%;
      border: 1px solid rgba(255,255,255,0.20);
      pointer-events: none;
    }
    #coverInner::before {
      width: 380px;
      height: 380px;
      top: -170px;
      left: -160px;
    }
    #coverInner::after {
      width: 430px;
      height: 430px;
      bottom: -190px;
      right: -180px;
    }

    .cover-content { position: relative; z-index: 1; }
    .cover-sub {
      font-size: 0.78rem;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      opacity: 0.9;
      margin-bottom: 0.7rem;
    }
    .cover-names {
      font-family: "Great Vibes", cursive;
      font-size: 2.7rem;
      letter-spacing: 0.08em;
      margin-bottom: 0.8rem;
    }
    .cover-line {
      width: 60px;
      height: 1px;
      background: rgba(255,255,255,0.8);
      margin: 0.4rem auto 1.1rem;
    }
    .cover-greeting {
      font-size: 0.82rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      opacity: 0.9;
      margin-bottom: 0.2rem;
    }
    .cover-guest {
      font-size: 0.92rem;
      font-weight: 600;
      min-height: 1.3rem;
    }
    .cover-date {
      margin-top: 1.1rem;
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.22em;
      opacity: 0.95;
    }
    .cover-location {
      font-size: 0.8rem;
      opacity: 0.9;
      margin-top: 0.3rem;
    }
    .cover-btn {
      margin-top: 1.6rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.6rem;
      border-radius: var(--radius-full);
      padding: 0.8rem 1.9rem;
      border: none;
      background: linear-gradient(135deg,#fff,#f8e7d0);
      color: #5b4128;
      font-size: 0.83rem;
      font-weight: 700;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      cursor: pointer;
      box-shadow: 0 16px 40px rgba(0,0,0,0.6);
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
    }
    .cover-btn span.icon { font-size: 1.15rem; }
    .cover-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 20px 50px rgba(0,0,0,0.75);
      background: #fdf3e6;
    }
    .cover-note {
      font-size: 0.78rem;
      margin-top: 1.1rem;
      opacity: 0.9;
    }

    /* ================= TOP NAV ================= */
    .top-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 40;
      padding: 0.4rem 0.4rem;
      background: linear-gradient(to bottom, rgba(0,0,0,0.78), transparent);
      display: flex;
      justify-content: center;
      pointer-events: none;
    }
    .top-nav-inner {
      pointer-events: auto;
      background: rgba(34,22,11,0.95);
      border-radius: 999px;
      padding: 0.45rem 0.85rem;
      border: 1px solid rgba(255,255,255,0.2);
      display: flex;
      align-items: center;
      gap: 0.6rem;
      color: #f9e6cf;
      font-size: 0.75rem;
      max-width: 100%;
      position: relative;
    }
    .top-nav span.brand {
      font-family: "Great Vibes", cursive;
      font-size: 1.3rem;
      white-space: nowrap;
    }
    .nav-toggle {
      border: none;
      background: transparent;
      color: inherit;
      font-size: 1.2rem;
      cursor: pointer;
      display: none;
    }
    .nav-links {
      display: flex;
      align-items: center;
      gap: 0.35rem;
      margin-left: 0.4rem;
    }
    .nav-links button {
      border: none;
      background: rgba(255,255,255,0.04);
      color: inherit;
      font-size: 0.68rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      padding: 0.3rem 0.75rem;
      cursor: pointer;
      border-radius: 999px;
      white-space: nowrap;
      transition: background .15s ease, transform .15s ease;
    }
    .nav-links button:hover {
      background: rgba(249,230,207,0.2);
      transform: translateY(-1px);
    }

    @media (max-width: 768px) {
      .top-nav-inner {
        width: 100%;
        max-width: 420px;
        justify-content: space-between;
      }
      .nav-toggle { display: inline-flex; }
      .nav-links {
        position: absolute;
        top: 110%;
        right: 0;
        left: 0;
        background: rgba(34,22,11,0.97);
        border-radius: 18px;
        padding: 0.6rem 0.6rem;
        flex-wrap: wrap;
        justify-content: center;
        display: none;
      }
      .nav-links.open { display: flex; }
      .nav-links button {
        font-size: 0.68rem;
        padding-inline: 0.6rem;
      }
    }

    /* PAGE FADE */
    #page {
      opacity: 0;
      pointer-events: none;
      transform: translateY(16px);
      transition: opacity 650ms ease, transform 650ms ease;
    }
    body.unlocked #page {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    /* ============== HERO ============== */
    .hero {
      position: relative;
      min-height: 100vh;
      display: flex;
      align-items: center;
      padding: 5.5rem 0 3.5rem;
      background:
        radial-gradient(circle at top, rgba(0,0,0,0.45), rgba(0,0,0,0.85)),
        url("img/bg-hero.jpeg") center center / cover no-repeat;
      color: #fff;
    }
    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at top left, rgba(255,255,255,0.1), transparent 55%),
        radial-gradient(circle at bottom right, rgba(0,0,0,0.6), transparent 60%);
      opacity: 0.7;
      pointer-events: none;
    }
    .hero-inner {
      position: relative;
      z-index: 1;
      width: 100%;
      max-width: 1040px;
      margin: 0 auto;
      padding: 0 1.4rem;
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
      gap: 2.1rem;
      align-items: center;
    }
    @media (max-width: 880px) {
      .hero-inner {
        grid-template-columns: minmax(0, 1fr);
        text-align: center;
      }
    }
    .hero-left-sub {
      font-size: 0.78rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      opacity: 0.9;
      margin-bottom: 0.5rem;
    }
    .hero-names {
      font-family: "Great Vibes", cursive;
      font-size: clamp(2.7rem, 7vw, 3.4rem);
      letter-spacing: 0.08em;
      margin-bottom: 0.2rem;
    }
    .hero-line {
      width: 60px;
      height: 1px;
      background: rgba(255,255,255,0.75);
      margin: 0.4rem 0 0.9rem;
    }
    .hero-date {
      font-size: 0.83rem;
      text-transform: uppercase;
      letter-spacing: 0.24em;
      opacity: 0.95;
    }
    .hero-location {
      font-size: 0.82rem;
      opacity: 0.92;
      margin-top: 0.4rem;
    }

    .countdown-wrapper { margin-top: 1.3rem; }
    .countdown-label {
      font-size: 0.74rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      opacity: 0.85;
      margin-bottom: 0.5rem;
    }
    .countdown {
      display: grid;
      grid-template-columns: repeat(4, minmax(58px, 1fr));
      gap: 0.5rem;
      max-width: 360px;
    }
    @media (max-width: 880px) {
      .countdown { margin: 0 auto; }
    }
    .countdown-item {
      background: rgba(255,255,255,0.16);
      border-radius: 16px;
      padding: 0.55rem 0.4rem 0.6rem;
      border: 1px solid rgba(255,255,255,0.25);
      backdrop-filter: blur(6px);
      text-align: center;
    }
    .countdown-number {
      display: block;
      font-size: 1.12rem;
      font-weight: 700;
    }
    .countdown-text {
      display: block;
      font-size: 0.62rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
    }
    .hero-p {
      margin-top: 1.1rem;
      font-size: 0.82rem;
      opacity: 0.9;
      max-width: 380px;
    }
    @media (max-width: 880px) {
      .hero-p { margin-inline: auto; }
    }

    .hero-right {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
    }
    .hero-photo-main {
      width: 270px;
      height: 270px;
      border-radius: 40px;
      overflow: hidden;
      border: 4px solid rgba(255,255,255,0.8);
      box-shadow: 0 24px 60px rgba(0,0,0,0.75);
      position: relative;
      animation: float 6s ease-in-out infinite;
    }
    .hero-photo-main::after {
      content: "";
      position: absolute;
      inset: 6px;
      border-radius: 36px;
      border: 1px solid rgba(255,255,255,0.3);
      pointer-events: none;
    }
    .hero-photo-main img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    @media (max-width: 480px) {
      .hero-photo-main {
        width: 220px;
        height: 220px;
        border-radius: 32px;
      }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }

    .hero-mini-row {
      display: flex;
      gap: 0.7rem;
      justify-content: center;
    }
    .hero-mini {
      width: 68px;
      height: 68px;
      border-radius: 50%;
      overflow: hidden;
      border: 2px solid rgba(255,255,255,0.7);
      box-shadow: 0 10px 25px rgba(0,0,0,0.5);
    }
    .hero-mini img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .hero-scroll-indicator {
      margin-top: 1.3rem;
      font-size: 0.78rem;
      opacity: 0.85;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.2rem;
    }
    .hero-scroll-indicator span.icon {
      animation: bounce 1.3s infinite;
      font-size: 1.1rem;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(4px); }
    }

    /* Floating actions */
    .floating-actions {
      position: fixed;
      right: 14px;
      bottom: 14px;
      z-index: 45;
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      align-items: flex-end;
    }
    .fab {
      border-radius: 999px;
      background: rgba(25, 18, 9, 0.96);
      padding: 0.5rem 0.8rem;
      display: flex;
      align-items: center;
      gap: 0.35rem;
      color: #f9e6cf;
      font-size: 0.78rem;
      cursor: pointer;
      box-shadow: 0 10px 26px rgba(0,0,0,0.3);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255,255,255,0.16);
    }
    .fab span.icon { font-size: 1.05rem; }

    /* Intro */
    .intro-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 2rem;
      align-items: center;
    }
    @media (max-width: 880px) {
      .intro-grid { grid-template-columns: minmax(0, 1fr); }
    }
    .intro-text-block {
      font-size: 0.9rem;
      color: #5a4634;
      text-align: justify;
    }
    .intro-heading {
      font-family: "Cinzel", serif;
      font-size: 1.3rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: #8d6e4f;
      margin-bottom: 0.7rem;
      text-align: left;
      position: relative;
    }
    .intro-heading::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -6px;
      width: 60px;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(to right,#c49a6c,#f2d3a5);
    }
    .intro-quote-card {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      padding: 1.3rem 1.2rem;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(196,154,108,0.25);
      position: relative;
      overflow: hidden;
      font-size: 0.86rem;
      color: #5a4634;
    }
    .intro-quote-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background-image:
        radial-gradient(circle at top left, rgba(243,214,179,0.35), transparent 55%);
      opacity: 0.7;
    }
    .intro-quote-inner { position: relative; z-index: 1; }
    .intro-quote-inner span.arab {
      display: block;
      font-family: "Scheherazade", "Traditional Arabic", serif;
      font-size: 1.05rem;
      margin-bottom: 0.5rem;
    }
    .intro-quote-inner small {
      display: block;
      margin-top: 0.4rem;
      font-size: 0.78rem;
    }

    /* Couple */
    .couple-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
      gap: 1.2rem;
      margin-top: 1.7rem;
    }
    @media (max-width: 768px) {
      .couple-grid { grid-template-columns: minmax(0, 1fr); }
    }
    .person-card {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      padding: 1.5rem 1.4rem;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(196,154,108,0.18);
      position: relative;
      overflow: hidden;
    }
    .person-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top right, rgba(243,214,179,0.3), transparent 55%);
      opacity: 0.7;
      pointer-events: none;
    }
    .person-inner { position: relative; z-index: 1; }
    .person-photo {
      width: 140px;
      height: 140px;
      border-radius: 22px;
      overflow: hidden;
      margin: 0 auto 0.9rem;
      border: 3px solid rgba(196,154,108,0.7);
      box-shadow: 0 16px 34px rgba(0,0,0,0.18);
    }
    .person-photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .person-role {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #b28655;
      margin-bottom: 0.2rem;
      text-align: center;
    }
    .person-name {
      font-size: 1.08rem;
      font-weight: 600;
      color: #4a331f;
      text-align: center;
      font-family: "Cinzel", serif;
    }
    .person-full {
      font-size: 0.87rem;
      color: #6a4a2c;
      text-align: center;
      margin-top: 0.5rem;
    }
    .person-ig {
      margin-top: 0.7rem;
      font-size: 0.8rem;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.35rem 0.85rem;
      border-radius: 999px;
      background: rgba(196,154,108,0.08);
      color: #b28655;
    }
    .person-ig span.icon { font-size: 1rem; }

    /* ============= LOVE STORY CAROUSEL ‚Äì 3D CARD STACK ============= */
    .story-carousel-wrapper {
      max-width: 860px;
      margin: 0 auto;
      position: relative;
      padding: 0.4rem 0 0.2rem;
    }

    .story-carousel-shell {
      background: linear-gradient(135deg, rgba(255,255,255,0.99), rgba(255,248,238,0.98));
      border-radius: var(--radius-xl);
      border: 1px solid rgba(196,154,108,0.3);
      box-shadow: var(--shadow-soft);
      padding: 1.5rem 1.3rem 1.6rem;
      position: relative;
      overflow: visible;
    }

    .story-carousel-shell::before,
    .story-carousel-shell::after {
      content: "";
      position: absolute;
      border-radius: 50%;
      border: 1px dashed rgba(196,154,108,0.35);
      opacity: 0.45;
      pointer-events: none;
    }
    .story-carousel-shell::before {
      width: 150px;
      height: 150px;
      top: -70px;
      right: -40px;
    }
    .story-carousel-shell::after {
      width: 210px;
      height: 210px;
      bottom: -110px;
      left: -60px;
    }

    .story-intro-label {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: #b28655;
      margin-bottom: 0.3rem;
    }
    .story-intro-title {
      font-family: "Cinzel", serif;
      font-size: 1.1rem;
      font-weight: 600;
      color: #4a331f;
      margin-bottom: 0.6rem;
    }
    .story-intro-text {
      font-size: 0.88rem;
      color: #5a4634;
      margin-bottom: 0.9rem;
    }

    .story-track {
      position: relative;
      padding: 1rem 0.75rem 1.6rem;
      min-height: 340px;
      perspective: 1400px;
    }

    /* dua layer belakang ‚Äì hanya bayangan kosong */
    .story-depth-layer {
      position: absolute;
      inset: 0;
      margin: auto;
      max-width: 720px;
      border-radius: 24px;
      background: rgba(255,255,255,0.9);
      box-shadow: 0 18px 40px rgba(0,0,0,0.06);
      transform-origin: center;
      pointer-events: none;
      z-index: 1;
    }
    .story-depth-layer.back-1 {
      transform: translateY(14px) scale(0.97) rotateX(5deg);
      opacity: 0.85;
    }
    .story-depth-layer.back-2 {
      transform: translateY(26px) scale(0.94) rotateX(9deg);
      opacity: 0.65;
    }

    /* slide utama ‚Äì hanya 1 yang aktif (display:grid) */
    .story-slide {
      position: absolute;
      inset: 0;
      margin: auto;
      max-width: 720px;
      height: 100%;                      /* PENTING */
      background: #ffffff;
      border-radius: 24px;
      padding: 1.25rem 1.3rem;
      box-shadow: 0 22px 42px rgba(0,0,0,0.12);
      display: none;
      grid-template-columns: 38% 62%;
      gap: 1.1rem;
      align-items: stretch;              /* PENTING */
      overflow: hidden;                  /* üîí KUNCI CARD */
      z-index: 2;
    }

    .story-slide.active {
      display: grid;
      /* opacity: 1;
      visibility: visible;
      pointer-events: auto;
      transform: translateY(0) scale(1); */
    }

    @media (max-width: 820px) {
      .story-track {
        min-height: 420px;
      }
      .story-slide {
        grid-template-columns: 1fr;
        height: auto;
      }
      .story-photo-frame {
        max-height: 220px;
      }

      .story-text {
        max-height: 200px;
      }
      
      .story-depth-layer {
        max-width: 100%;
      }
      .story-slide {
        grid-template-columns: minmax(0, 1fr);
        gap: 0.9rem;
        padding: 1.15rem 1.1rem 1.3rem;
      }
    }

    /* === FOTO === */
    .story-photo-frame {
      position: relative;
      width: 100%;
      height: 100%;                      /* mengikuti card */
      max-height: 260px;
      border-radius: 20px;
      overflow: hidden;                  /* üîí */
      background: #000;
      box-shadow: 0 14px 30px rgba(0,0,0,0.18);
    }
    .story-photo-frame::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top, rgba(0,0,0,0.18), transparent 55%);
      opacity: 0.9;
      pointer-events: none;
    }
    .story-photo-frame img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      /* transform: scale(1.03);
      transition: transform 0.6s ease; */
    }
    .story-slide.active .story-photo-frame img {
      transform: scale(1);
    }
    .story-photo-tag {
      position: absolute;
      left: 12px;
      bottom: 12px;
      background: rgba(0,0,0,0.6);
      color: #fff;
      padding: 0.3rem 0.7rem;
      font-size: 0.72rem;
      border-radius: 999px;
    }

    /* === TEKS === */
    .story-text-block {
      display: flex;
      flex-direction: column;
      height: 100%;
      overflow: hidden;                  /* üîí */
    }

    /* judul */
    .story-step-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #b28655;
    }
    .story-title {
      font-family: "Cinzel", serif;
      font-size: 1.05rem;
      font-weight: 600;
      color: #4a331f;
      margin-bottom: 0.3rem;
    }

    /* konten teks ‚Äì SCROLL INTERNAL */
    .story-text {
      font-size: 0.9rem;
      color: #5a4634;
      line-height: 1.65;
      overflow-y: auto;                  /* ‚úÖ scroll dalam card */
      padding-right: 6px;
    }
    .story-text span.icon {
      margin-right: 0.22rem;
    }

    /* scrollbar halus */
    .story-text::-webkit-scrollbar {
      width: 4px;
    }
    .story-text::-webkit-scrollbar-thumb {
      background: rgba(196,154,108,0.4);
      border-radius: 999px;
    }

    .story-step-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      font-size: 0.76rem;
      border-radius: 999px;
      padding: 0.26rem 0.65rem;
      background: rgba(196,154,108,0.1);
      color: #b28655;
      margin-bottom: 0.4rem;
    }

    /* tombol next / prev */
    .story-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      border-radius: 999px;
      width: 36px;
      height: 36px;
      border: none;
      background: rgba(0,0,0,0.55);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 5;
      box-shadow: 0 10px 24px rgba(0,0,0,0.28);
    }
    .story-nav:hover {
      background: rgba(0,0,0,0.8);
    }
    .story-nav.prev { left: 8px; }
    .story-nav.next { right: 8px; }
    @media (max-width: 640px) {
      .story-nav.prev { left: 4px; }
      .story-nav.next { right: 4px; }
    }

    /* dots bawah */
    .story-dots {
      display: flex;
      justify-content: center;
      gap: 0.32rem;
      margin-top: 0.9rem;
    }
    .story-dot {
      width: 9px;
      height: 9px;
      border-radius: 999px;
      border: none;
      background: rgba(196,154,108,0.3);
      cursor: pointer;
      transition: width 0.2s ease, background 0.2s ease;
    }
    .story-dot.active {
      width: 18px;
      background: #c49a6c;
    }
    .story-text::after {
      content: "";
      position: sticky;
      bottom: 0;
      height: 24px;
      display: block;
      background: linear-gradient(transparent, #fff);
    }


    /* EVENT */
    .events-wrapper {
      display: grid;
      grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
      gap: 1.2rem;
      margin-top: 1.3rem;
    }
    @media (max-width: 880px) {
      .events-wrapper { grid-template-columns: minmax(0, 1fr); }
    }
    .event-card {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      padding: 1.6rem 1.4rem 1.6rem;
      border: 1px solid rgba(196,154,108,0.35);
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }
    .event-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background-image: linear-gradient(135deg, rgba(196,154,108,0.2), transparent 60%);
      opacity: 0.9;
    }
    .event-inner { position: relative; z-index: 1; }
    .event-type {
      font-size: 0.78rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: #b28655;
      margin-bottom: 0.35rem;
    }
    .event-title {
      font-size: 1.14rem;
      font-weight: 600;
      color: #4a331f;
      margin-bottom: 0.8rem;
      font-family: "Cinzel", serif;
    }
    .event-detail {
      font-size: 0.88rem;
      color: #5b4328;
      margin-bottom: 0.45rem;
      display: flex;
      align-items: flex-start;
      gap: 0.5rem;
    }
    .event-detail span.icon { margin-top: 0.05rem; }
    .event-location { font-weight: 500; color: #4a331f; }
    .event-note {
      margin-top: 0.7rem;
      font-size: 0.8rem;
      color: #8a6b48;
    }
    .event-link {
      margin-top: 0.9rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      padding: 0.55rem 1.2rem;
      border-radius: 999px;
      border: none;
      background: #f4ddc1;
      color: #5b4128;
      font-size: 0.8rem;
      font-weight: 600;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      cursor: pointer;
      box-shadow: 0 9px 18px rgba(0,0,0,0.12);
    }

    .event-link-secondary {
      margin-left: 0.35rem;
      background: #ffffff;
      color: #8a653b;
      border: 1px solid rgba(196,154,108,0.7);
      box-shadow: 0 9px 18px rgba(0,0,0,0.08);
    }

    @media (max-width: 520px) {
      .event-link,
      .event-link-secondary {
        display: block;
        width: 100%;
        text-align: center;
        margin-top: 0.45rem;
      }
      .event-link-secondary {
        margin-left: 0;
      }
    }

    /* Generic card */
    .card-soft {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      padding: 1.6rem 1.4rem;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(196,154,108,0.18);
      position: relative;
      overflow: hidden;
    }
    .card-soft::after {
      content: "";
      position: absolute;
      top: -40px;
      right: -30px;
      width: 110px;
      height: 110px;
      border-radius: 50%;
      border: 1px dashed rgba(196,154,108,0.35);
      opacity: 0.5;
      pointer-events: none;
    }

    /* MAP */
    .map-card iframe {
      width: 100%;
      border-radius: 18px;
      border: none;
      min-height: 230px;
      margin-top: 0.8rem;
    }

    /* Wedding Gift intro */
    .gift-intro-text {
      font-size: 0.9rem;
      color: #5a4634;
      text-align: center;
      max-width: 640px;
      margin: 0 auto 1.4rem;
    }

    /* GIFT WRAPPER */
    .gift-wrapper {
      display: grid;
      grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
      gap: 1.2rem;
      margin-top: 0.4rem;
      align-items: stretch;
    }
    @media (max-width: 880px) {
      .gift-wrapper { grid-template-columns: minmax(0, 1fr); }
    }
    .gift-wrapper > .card-soft {
      display: flex;
      padding: 0;
      border-radius: 0;
      background: none;
      border: none;
      box-shadow: none;
    }

    /* TRANSFER & KADO ‚Äì sama bentuk */
    .gift-transfer,
    .gift-physical {
      position: relative;
      overflow: hidden;
      border-radius: 20px;
      padding: 1.3rem 1.1rem 1.3rem;
      border: 1px solid rgba(196,154,108,0.35);
      background: radial-gradient(circle at top left, #fff6ea 0, #ffffff 42%, #fff3e1 100%);
      flex: 1;
      display: flex;
    }
    .gift-transfer::before,
    .gift-physical::before {
      content: "";
      position: absolute;
      inset: 0;
      background-image:
        radial-gradient(circle at top right, rgba(244,209,173,0.5), transparent 58%),
        radial-gradient(circle at bottom left, rgba(221,188,146,0.45), transparent 60%);
      opacity: 0.6;
      pointer-events: none;
    }
    .gift-transfer-inner,
    .gift-physical-inner {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .gift-transfer-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.7rem;
    }
    .gift-transfer-icon {
      width: 52px;
      height: 52px;
      border-radius: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255,255,255,0.95);
      box-shadow: 0 10px 24px rgba(0,0,0,0.16);
      font-size: 1.6rem;
    }
    .gift-transfer-title {
      font-family: "Cinzel", serif;
      font-size: 1.02rem;
      font-weight: 600;
      color: #4a331f;
      margin-bottom: 0.15rem;
    }
    .gift-transfer-sub {
      font-size: 0.8rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #b28655;
    }
    .gift-transfer-text {
      font-size: 0.88rem;
      color: #5a4634;
      margin-bottom: 0.6rem;
    }
    .gift-transfer-badge-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      margin-bottom: 0.6rem;
    }
    .gift-transfer-badge {
      font-size: 0.72rem;
      padding: 0.26rem 0.7rem;
      border-radius: 999px;
      background: rgba(255,255,255,0.9);
      border: 1px solid rgba(196,154,108,0.6);
      color: #8a653b;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
    }
    .gift-transfer-list {
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      margin-bottom: 0.5rem;
    }
    .gift-method {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.7rem 0.65rem;
      border-radius: 18px;
      background: #fffaf3;
      border: 1px dashed rgba(196,154,108,0.55);
      margin-top: 0.1rem;
    }
    .gift-logo {
      width: 52px;
      height: 52px;
      border-radius: 999px;
      background: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 24px rgba(0,0,0,0.15);
      padding: 6px;
    }
    .gift-logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    .gift-info-main {
      flex: 1;
      font-size: 0.85rem;
      color: #5a4634;
    }
    .gift-bank-name {
      font-weight: 700;
      font-size: 0.9rem;
      color: #4a331f;
    }
    .gift-rek {
      font-family: "Nunito", monospace;
      font-weight: 700;
      font-size: 0.98rem;
      color: #3b2a17;
      margin: 0.08rem 0;
    }
    .gift-name {
      font-size: 0.82rem;
      color: #7d5b33;
    }
    .copy-btn {
      margin-top: 0.35rem;
      font-size: 0.76rem;
      border-radius: 999px;
      border: 1px solid rgba(196,154,108,0.6);
      padding: 0.32rem 0.75rem;
      background: #fff7ef;
      color: #8a653b;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.28rem;
      white-space: nowrap;
    }
    .copy-btn:hover { background: #f4ddc1; }
    .gift-note {
      margin-top: auto;
      font-size: 0.8rem;
      color: #8a6b48;
    }

    .gift-physical-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.75rem;
    }
    .gift-physical-icon {
      width: 52px;
      height: 52px;
      border-radius: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255,255,255,0.9);
      box-shadow: 0 10px 24px rgba(0,0,0,0.18);
      font-size: 1.6rem;
    }
    .gift-physical-title {
      font-family: "Cinzel", serif;
      font-size: 1.02rem;
      font-weight: 600;
      color: #4a331f;
      margin-bottom: 0.15rem;
    }
    .gift-physical-sub {
      font-size: 0.8rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #b28655;
    }
    .gift-physical-body {
      font-size: 0.88rem;
      color: #5a4634;
      margin-top: 0.4rem;
    }
    .gift-steps {
      list-style: none;
      margin: 0 0 0.6rem;
      padding: 0;
    }
    .gift-step-item {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 0.45rem 0.55rem;
      align-items: flex-start;
      font-size: 0.84rem;
      margin-bottom: 0.35rem;
    }
    .gift-step-badge {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      background: #c49a6c;
      color: #fff;
      font-size: 0.78rem;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 18px rgba(0,0,0,0.22);
      margin-top: 0.05rem;
    }
    .gift-physical-address {
      margin-top: 0.65rem;
      padding: 0.75rem 0.7rem;
      border-radius: 16px;
      background: rgba(255,255,255,0.9);
      border: 1px dashed rgba(196,154,108,0.7);
      font-size: 0.86rem;
    }
    .gift-physical-address strong { color: #4a331f; }
    .gift-physical-tools {
      display: flex;
      flex-wrap: wrap;
      gap: 0.45rem;
      margin-top: 0.65rem;
    }
    .gift-physical-smallnote {
      margin-top: auto;
      font-size: 0.8rem;
      color: #8a6b48;
    }

    /* RSVP */
    .rsvp-wrapper {
      display: grid;
      grid-template-columns: minmax(0, 1.05fr) minmax(0, 1fr);
      gap: 1.3rem;
      margin-top: 1.3rem;
    }
    @media (max-width: 880px) {
      .rsvp-wrapper { grid-template-columns: minmax(0, 1fr); }
    }
    .rsvp-card { overflow: hidden; }
    .rsvp-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background-image: radial-gradient(circle at top left, rgba(244,221,193,0.5), transparent 60%);
      opacity: 0.8;
      pointer-events: none;
    }
    .rsvp-card-inner {
      position: relative;
      z-index: 1;
    }
    .rsvp-text {
      font-size: 0.9rem;
      color: #5a4634;
      text-align: justify;
    }
    .rsvp-highlight {
      margin-top: 0.9rem;
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.7rem;
      font-size: 0.84rem;
    }
    @media (max-width: 480px) {
      .rsvp-highlight { grid-template-columns: minmax(0, 1fr); }
    }
    .rsvp-pil {
      border-radius: 999px;
      padding: 0.4rem 0.75rem;
      background: rgba(255,255,255,0.8);
      border: 1px solid rgba(196,154,108,0.35);
      display: flex;
      align-items: center;
      gap: 0.4rem;
      color: #7d5b33;
    }
    .rsvp-pil span.icon { font-size: 1rem; }
    .rsvp-step-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: #b28655;
      margin-bottom: 0.35rem;
    }
    .rsvp-wrapper h3 {
      font-family: "Cinzel", serif;
      font-size: 1.02rem;
      font-weight: 600;
      color: #4a331f;
      margin-bottom: 0.2rem;
    }
    .rsvp-form {
      margin-top: 0.6rem;
      display: grid;
      gap: 0.65rem;
      font-size: 0.84rem;
    }
    .form-group label {
      display: block;
      margin-bottom: 0.23rem;
      font-size: 0.82rem;
      color: #7d5b33;
    }
    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      border-radius: 10px;
      border: 1px solid rgba(196,154,108,0.6);
      padding: 0.48rem 0.7rem;
      font-family: inherit;
      font-size: 0.84rem;
      background: #fffdfa;
      transition: box-shadow 0.15s ease, border-color 0.15s ease, background 0.15s ease;
    }
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #c49a6c;
      box-shadow: 0 0 0 2px rgba(196,154,108,0.2);
      background: #fffdf7;
    }
    .form-row {
      display: grid;
      grid-template-columns: 1.05fr 0.95fr;
      gap: 0.6rem;
    }
    @media (max-width: 480px) {
      .form-row { grid-template-columns: minmax(0, 1fr); }
    }
    .rsvp-btn {
      margin-top: 1rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      padding: 0.7rem 1.4rem;
      border-radius: 999px;
      border: none;
      background: #25d366;
      color: white;
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      cursor: pointer;
      box-shadow: 0 12px 26px rgba(0,0,0,0.2);
      width: 100%;
    }
    .rsvp-btn:hover { background: #1ebe5b; }
    .small-hint {
      font-size: 0.75rem;
      color: #a17a4a;
      margin-top: 0.35rem;
    }

    /* Rekap RSVP */
    .rsvp-summary-card {
      margin-top: 1.4rem;
      background: radial-gradient(circle at top left,#fffaf0 0,#ffffff 45%,#ffefe0 100%);
      border: 1px solid rgba(196,154,108,0.3);
    }
    .rsvp-summary-card::after { display:none; }
    .rsvp-summary-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.8rem;
    }
    .rsvp-summary-icon {
      width: 54px;
      height: 54px;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255,255,255,0.95);
      box-shadow: 0 10px 24px rgba(0,0,0,0.16);
      font-size: 1.6rem;
      flex-shrink: 0;
    }
    .rsvp-summary-title {
      font-family: "Cinzel", serif;
      font-size: 1.02rem;
      font-weight: 600;
      color: #4a331f;
    }
    .rsvp-summary-sub {
      font-size: 0.8rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #b28655;
    }
    .rsvp-summary-grid {
      display: grid;
      grid-template-columns: repeat(3,minmax(0,1fr));
      gap: 0.7rem;
      margin-top: 0.3rem;
    }
    @media (max-width: 600px) {
      .rsvp-summary-grid { grid-template-columns: minmax(0,1fr); }
    }
    .rsvp-summary-item {
      border-radius: 18px;
      padding: 0.7rem 0.8rem;
      background: rgba(255,255,255,0.9);
      border: 1px solid rgba(196,154,108,0.45);
      text-align: left;
      position: relative;
      box-shadow: 0 8px 18px rgba(0,0,0,0.04);
    }
    .rsvp-summary-label {
      font-size: 0.76rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #9a7548;
      margin-bottom: 0.2rem;
    }
    .rsvp-summary-count {
      font-size: 1.4rem;
      font-weight: 700;
      color: #4a331f;
    }
    .rsvp-summary-foot {
      margin-top: 0.75rem;
      font-size: 0.78rem;
      color: #8a6b48;
    }

    /* GALERI */
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.7rem;
      margin-top: 1.1rem;
    }
    @media (min-width: 768px) {
      .gallery-grid {
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.9rem;
      }
    }
    .gallery-item {
      border-radius: 16px;
      overflow: hidden;
      position: relative;
      background: #000;
      min-height: 110px;
      cursor: pointer;
    }
    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.4s ease;
    }
    .gallery-item:hover img { transform: scale(1.05); }
    .gallery-item::after {
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(to bottom,transparent,rgba(0,0,0,0.4));
      opacity:0;
      transition:opacity .25s;
    }
    .gallery-item:hover::after { opacity:1; }
    .gallery-item figcaption {
      position: absolute;
      left: 6px;
      right: 6px;
      bottom: 6px;
      font-size: 0.68rem;
      background: rgba(0,0,0,0.45);
      color: #fff;
      padding: 0.18rem 0.4rem;
      border-radius: 999px;
      text-align: center;
    }

    /* LIGHTBOX / CAROUSEL */
    #lightbox {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.86);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 70;
      padding: 16px;
    }
    #lightbox.open { display: flex; }

    .lightbox-inner {
      position: relative;
      width: 100%;
      max-width: 1080px;
      max-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .lightbox-img-wrapper {
      width: 100%;
      max-height: calc(100vh - 120px);
      display: flex;
      align-items: center;
      justify-content: center;
      background: #000;
      border-radius: 18px;
      overflow: hidden;
      box-shadow: 0 18px 42px rgba(0,0,0,0.6);
    }
    .lightbox-img-wrapper img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      display: block;
    }
    .lightbox-close {
      position: fixed;
      top: 18px;
      right: 18px;
      background: rgba(0,0,0,0.7);
      color: #fff;
      border: none;
      border-radius: 999px;
      padding: 0.45rem 0.9rem;
      font-size: 0.85rem;
      cursor: pointer;
      z-index: 72;
    }
    .lightbox-nav {
      position: fixed;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.6);
      color: #fff;
      border: none;
      border-radius: 999px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.4rem;
      cursor: pointer;
      z-index: 72;
    }
    .lightbox-nav.prev { left: 18px; }
    .lightbox-nav.next { right: 18px; }
    .lightbox-nav:hover,
    .lightbox-close:hover {
      background: rgba(0,0,0,0.88);
    }

    /* GUESTBOOK */
    .guestbook-wrapper {
      display: grid;
      grid-template-columns: minmax(0, 1.05fr) minmax(0, 1fr);
      gap: 1.2rem;
      margin-top: 1.3rem;
    }
    @media (max-width: 880px) {
      .guestbook-wrapper { grid-template-columns: minmax(0, 1fr); }
    }
    .guest-list {
      max-height: 340px;
      overflow-y: auto;
      padding-right: 0.2rem;
    }
    .guest-empty {
      font-size: 0.82rem;
      color: #8a6b48;
      background: #fff7ea;
      border-radius: 14px;
      padding: 0.8rem;
      border: 1px dashed rgba(196,154,108,0.5);
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    .guest-empty::before {
      content: "üíå";
      font-size: 1.1rem;
    }
    .guest-card {
      position: relative;
      background: linear-gradient(135deg, #fffaf4, #ffffff);
      border-radius: 16px;
      border: 1px solid rgba(196,154,108,0.28);
      padding: 0.75rem 0.9rem 0.8rem;
      font-size: 0.84rem;
      color: #5a4634;
      margin-bottom: 0.7rem;
      box-shadow: 0 10px 24px rgba(0,0,0,0.04);
      overflow: hidden;
    }
    .guest-card::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 4px;
      background: linear-gradient(to bottom, #c49a6c, #e4c09a);
    }
    .guest-card-header {
      display: flex;
      align-items: center;
      gap: 0.55rem;
      margin-bottom: 0.25rem;
    }
    .guest-avatar {
      width: 30px;
      height: 30px;
      border-radius: 999px;
      background: #f6e2c8;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      flex-shrink: 0;
    }
    .guest-card-meta-wrap {
      flex: 1;
      min-width: 0;
    }
    .guest-card-name {
      font-weight: 700;
      color: #4a331f;
      margin-bottom: 0.05rem;
      font-size: 0.88rem;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }
    .guest-card-meta {
      font-size: 0.76rem;
      color: #9a7a57;
    }
    .guest-quote {
      font-size: 0.84rem;
      color: #5a4634;
      margin-top: 0.35rem;
    }
    .guest-quote::before {
      content: "‚Äú";
      font-size: 1.2rem;
      vertical-align: top;
      margin-right: 0.08rem;
      color: #d1a675;
    }
    .guest-quote::after {
      content: "‚Äù";
      font-size: 1.2rem;
      vertical-align: bottom;
      margin-left: 0.02rem;
      color: #d1a675;
    }

    /* SHARE */
    .share-card {
      position: relative;
      overflow: hidden;
      border-radius: var(--radius-xl);
      background: radial-gradient(circle at top left, #fff7ea 0, #ffffff 45%, #fff3e3 100%);
      padding: 1.4rem 1.2rem 1.4rem;
      border: 1px solid rgba(196,154,108,0.42);
    }
    .share-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background-image:
        radial-gradient(circle at top right, rgba(246,211,177,0.55), transparent 58%),
        radial-gradient(circle at bottom left, rgba(225,188,149,0.4), transparent 60%);
      opacity: 0.55;
      pointer-events: none;
    }
    .share-card-inner {
      position: relative;
      z-index: 1;
    }
    .share-header {
      display: flex;
      align-items: center;
      gap: 0.8rem;
      margin-bottom: 0.55rem;
    }
    .share-icon {
      width: 54px;
      height: 54px;
      border-radius: 20px;
      background: rgba(255,255,255,0.95);
      box-shadow: 0 10px 24px rgba(0,0,0,0.16);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.7rem;
      flex-shrink: 0;
    }
    .share-title {
      font-family: "Cinzel", serif;
      font-size: 1.04rem;
      font-weight: 600;
      color: #4a331f;
      margin-bottom: 0.15rem;
    }
    .share-sub {
      font-size: 0.8rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #b28655;
    }
    .share-text {
      font-size: 0.9rem;
      color: #5a4634;
      margin: 0.4rem 0 0.8rem;
      text-align: center;
    }
    .share-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.55rem;
      justify-content: center;
      margin-top: 0.2rem;
    }
    .share-btn {
      border-radius: 999px;
      border: 1px solid rgba(196,154,108,0.9);
      padding: 0.45rem 0.9rem;
      font-size: 0.78rem;
      background: linear-gradient(135deg, #f4ddc1, #fbead7);
      color: #6a4a2c;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(0,0,0,0.12);
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-weight: 600;
    }
    .share-btn span:first-child { font-size: 1.05rem; }
    .share-btn:hover { filter: brightness(1.05); }
    .share-footer {
      margin-top: 0.8rem;
      text-align: center;
      font-size: 0.78rem;
      color: #8a6b48;
    }
    .share-hint {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }
    .share-hint::before { content: "‚ú®"; }

    /* FOOTER */
    footer {
      padding: 2.5rem 1rem 2.1rem;
      text-align: center;
      font-size: 0.82rem;
      color: #876649;
    }
    .footer-thanks-title {
      font-family: "Cinzel", serif;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      font-size: 0.9rem;
      color: #b28655;
      margin-bottom: 0.4rem;
    }
    .footer-names {
      font-family: "Great Vibes", cursive;
      font-size: 1.9rem;
      color: #a67b51;
      margin-bottom: 0.35rem;
    }
    .footer-small {
      font-size: 0.8rem;
      max-width: 420px;
      margin: 0.4rem auto 0;
    }
    .back-to-top {
      margin-top: 1.4rem;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      cursor: pointer;
      color: #a67b51;
    }

    /* Reveal animation */
    .reveal {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 600ms ease, transform 600ms ease;
    }
    .reveal.show {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body class="locked">

  <!-- Musik -->
  <audio id="bgm" loop preload="auto">
    <source src="selalu-bahagia.mp3" type="audio/mpeg">
  </audio>

  <!-- COVER -->
  <div id="cover">
    <div id="coverInner">
      <div class="cover-content">
        <div class="cover-sub">The Wedding of</div>
        <div class="cover-names">Nisa &amp; Fadil</div>
        <div class="cover-line"></div>
        <div class="cover-greeting">Kepada Yth.</div>
        <div class="cover-guest" id="guestNameCover">Bapak/Ibu/Saudara/i</div>

        <div class="cover-date">Minggu, 28 Desember 2025</div>
        <div class="cover-location">
          Gedung Sepintu Sedulang, Sungailiat, Bangka,<br />Kepulauan Bangka Belitung
        </div>

        <button id="btnOpenCover" class="cover-btn">
          <span class="icon">üíå</span><span>Buka Undangan</span>
        </button>

        <p class="cover-note">
          Mohon maaf apabila ada kesalahan dalam penulisan nama dan gelar.
        </p>
      </div>
    </div>
  </div>

  <!-- Top Nav -->
  <div class="top-nav">
    <div class="top-nav-inner">
      <span class="brand">Nisa &amp; Fadil</span>
      <button class="nav-toggle" id="navToggle">‚ò∞</button>
      <div class="nav-links" id="navLinks">
        <button data-scroll="#hero">Home</button>
        <button data-scroll="#welcome">Welcome</button>
        <button data-scroll="#couple">Mempelai</button>
        <button data-scroll="#story">Love Story</button>
        <button data-scroll="#event">Event</button>
        <button data-scroll="#location">Lokasi</button>
        <button data-scroll="#gift">Wedding Gift</button>
        <button data-scroll="#rsvp">RSVP</button>
        <button data-scroll="#gallery">Galeri</button>
        <button data-scroll="#guestbook">Ucapan</button>
      </div>
    </div>
  </div>

  <!-- Floating FAB -->
  <div class="floating-actions">
    <div class="fab" id="fabRSVP">
      <span class="icon">üíö</span><span>RSVP</span>
    </div>
    <div class="fab" id="fabMusic">
      <span class="icon">üéµ</span><span id="fabMusicLabel">Musik On/Off</span>
    </div>
  </div>

  <!-- PAGE -->
  <main id="page">
    <!-- HERO -->
    <section id="hero" class="hero">
      <div class="hero-inner">
        <div class="hero-left">
          <div class="hero-left-sub">The Wedding of</div>
          <div class="hero-names">Nisa &amp; Fadil</div>
          <div class="hero-line"></div>
          <div class="hero-date">Minggu, 28 Desember 2025</div>
          <div class="hero-location">
            Gedung Sepintu Sedulang, Sungailiat, Bangka,<br />Kepulauan Bangka Belitung
          </div>

          <div class="countdown-wrapper">
            <div class="countdown-label">Menuju Akad Nikah</div>
            <div id="countdown" class="countdown">
              <div class="countdown-item">
                <span id="cd-days" class="countdown-number">00</span>
                <span class="countdown-text">Hari</span>
              </div>
              <div class="countdown-item">
                <span id="cd-hours" class="countdown-number">00</span>
                <span class="countdown-text">Jam</span>
              </div>
              <div class="countdown-item">
                <span id="cd-minutes" class="countdown-number">00</span>
                <span class="countdown-text">Menit</span>
              </div>
              <div class="countdown-item">
                <span id="cd-seconds" class="countdown-number">00</span>
                <span class="countdown-text">Detik</span>
              </div>
            </div>
            <div id="countdown-finish" style="display:none; font-size:0.8rem; margin-top:0.4rem; opacity:0.9;">
              Acara akad nikah telah berlangsung. Terima kasih atas doa dan restu Anda.
            </div>
          </div>

          <p class="hero-p">
            Tanpa mengurangi rasa hormat, kami mengundang Bapak/Ibu/Saudara/i untuk
            menghadiri acara pernikahan kami serta memberikan doa restu.
          </p>
        </div>

        <div class="hero-right">
          <div class="hero-photo-main reveal">
            <img src="img/bg-hero.jpeg" alt="Nisa &amp; Fadil" />
          </div>
          <div class="hero-mini-row">
            <div class="hero-mini reveal">
              <img src="img/wfoto.jpeg" alt="Mempelai Wanita" />
            </div>
            <div class="hero-mini reveal">
              <img src="img/mfoto.jpeg" alt="Mempelai Pria" />
            </div>
          </div>

          <div class="hero-scroll-indicator">
            <span>Gulir ke bawah</span>
            <span class="icon">‚¨á</span>
          </div>
        </div>
      </div>
    </section>

    <!-- WELCOME -->
    <section id="welcome" class="section-decor">
      <div class="container">
        <div class="intro-grid">
          <div class="intro-text-block reveal">
            <div class="intro-heading">Welcome To Our Wedding</div>
            <p>
              Dengan memohon rahmat dan ridha Allah Subhanahu Wa Ta'ala, kami bermaksud
              menyelenggarakan akad dan resepsi pernikahan putra-putri kami:
            </p>
            <p style="margin-top:0.8rem;">
              Tuhan membuat segala sesuatu indah pada waktu-Nya, indah saat Dia
              mempertemukan, indah saat Dia menumbuhkan kasih, dan indah saat Dia
              mempersatukan kami dalam pernikahan yang suci.
            </p>
          </div>

          <div class="intro-quote-card reveal">
            <div class="intro-quote-inner">
              <span class="arab">
                ŸàŸéŸÖŸêŸÜŸí ÿ¢ŸäŸéÿßÿ™ŸêŸáŸê ÿ£ŸéŸÜŸí ÿÆŸéŸÑŸéŸÇŸé ŸÑŸéŸÉŸèŸÖŸí ŸÖŸêŸÜŸí ÿ£ŸéŸÜŸÅŸèÿ≥ŸêŸÉŸèŸÖŸí ÿ£Ÿéÿ≤ŸíŸàŸéÿßÿ¨Ÿãÿß
                ŸÑŸêÿ™Ÿéÿ≥ŸíŸÉŸèŸÜŸèŸàÿß ÿ•ŸêŸÑŸéŸäŸíŸáŸéÿß ŸàŸéÿ¨ŸéÿπŸéŸÑŸé ÿ®ŸéŸäŸíŸÜŸéŸÉŸèŸÖŸí ŸÖŸéŸàŸéÿØŸéŸëÿ©Ÿã ŸàŸéÿ±Ÿéÿ≠ŸíŸÖŸéÿ©Ÿã
              </span>
              <div>
                "Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan
                untukmu dari jenismu sendiri, agar kamu cenderung dan merasa tenteram kepadanya,
                dan Dia menjadikan di antaramu rasa kasih dan sayang."
              </div>
              <small>(QS. Ar-Rum: 21)</small>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- COUPLE -->
    <section id="couple" class="section-decor">
      <div class="container">
        <h2 class="section-title">Mempelai</h2>
        <p class="section-subtitle">Yang Berbahagia</p>
        <div class="section-divider"></div>

        <div class="couple-grid">
          <!-- Bride -->
          <div class="person-card reveal">
            <div class="person-inner">
              <div class="person-photo">
                <img src="img/wfoto.jpeg" alt="Fahrunnisa Maharani" />
              </div>
              <div class="person-role">Mempelai Wanita</div>
              <div class="person-name">Fahrunnisa Maharani, S. Tr. Stat.</div>
              <div class="person-full">
                (Nisa)<br />
                Putri dari Bapak <strong>M. Jamil</strong> &amp; Ibu <strong>Fauzan Tilamaya</strong>
              </div>
              <a class="person-ig" href="https://www.instagram.com/fahrunnisa_m" target="_blank" rel="noopener noreferrer">
                <span class="icon">üì∏</span><span>@fahrunnisa_m</span>
              </a>
            </div>
          </div>

          <!-- Groom -->
          <div class="person-card reveal">
            <div class="person-inner">
              <div class="person-photo">
                <img src="img/mfoto.jpeg" alt="Akhmad Fadil Mubarok" />
              </div>
              <div class="person-role">Mempelai Pria</div>
              <div class="person-name">Akhmad Fadil Mubarok, S. Tr. Stat.</div>
              <div class="person-full">
                (Fadil)<br />
                Putra dari Bapak <strong>Suroto</strong> &amp; Ibu <strong>Siti Khomsatun</strong>
              </div>
              <a class="person-ig" href="https://www.instagram.com/akhmadfadil129" target="_blank" rel="noopener noreferrer">
                <span class="icon">üì∏</span><span>@akhmadfadil129</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- LOVE STORY ‚Äì 3D CARD CAROUSEL -->
    <section id="story" class="section-decor">
      <div class="container">
        <h2 class="section-title">Love Story</h2>
        <p class="section-subtitle">Perjalanan Kami</p>
        <div class="section-divider"></div>

        <div class="story-carousel-wrapper reveal">
          <div class="story-carousel-shell">
            <div class="story-intro-label">Kisah Singkat</div>
            <div class="story-intro-title">Perjalanan yang Allah Rangkai dengan Indah</div>
            <p class="story-intro-text">
              Setiap pertemuan memiliki waktu, setiap perjalanan memiliki cerita.
              Inilah rangkaian kisah kami dari awal mula hingga akhirnya mantap
              melangkah menuju akad dan kehidupan baru bersama.
            </p>

            <button class="story-nav prev" id="storyPrev">‚Äπ</button>
            <button class="story-nav next" id="storyNext">‚Ä∫</button>

            <div class="story-track">
              <!-- dua kartu bayangan di belakang -->
              <div class="story-depth-layer back-2"></div>
              <div class="story-depth-layer back-1"></div>

              <!-- Slide 1 -->
              <article class="story-slide active" data-index="0">
                <div class="story-photo-frame">
                  <img src="img/foto1.jpeg" alt="Awal Mula - Masa Kuliah" />
                  <div class="story-photo-tag">
                    <span>01</span><span>Awal Mula</span>
                  </div>
                </div>
                <div class="story-text-block">
                  <div class="story-step-pill">
                    <span>üìñ</span><span>Awal Mula</span>
                  </div>
                  <div class="story-step-label">Empat Tahun yang Terlewat</div>
                  <div class="story-title">Dua Orang Asing di Kampus yang Sama</div>
                  <p class="story-text">
                    <span class="icon">‚ú®</span>
                    Empat tahun berkuliah di perguruan tinggi yang sama, namun kami tak pernah saling
                    mengenal dan bertegur sapa. Waktu seolah hanya mempertemukan kami sebagai dua orang
                    asing yang berjalan berdampingan tanpa disadari. Di tengah keramaian kelas, tugas,
                    dan hiruk pikuk dunia kampus, kami tetap menjadi dua nama yang tak saling bersua.
                  </p>
                </div>
              </article>

              <!-- Slide 2 -->
              <article class="story-slide" data-index="1">
                <div class="story-photo-frame">
                  <img src="img/foto5.jpeg" alt="Pertemuan di Kantor" />
                  <div class="story-photo-tag">
                    <span>02</span><span>Pertemuan</span>
                  </div>
                </div>
                <div class="story-text-block">
                  <div class="story-step-pill">
                    <span>üå±</span><span>Pertemuan</span>
                  </div>
                  <div class="story-step-label">Dipertemukan Kembali</div>
                  <div class="story-title">Dari Rekan Kerja Menjadi Lebih Berarti</div>
                  <p class="story-text">
                    <span class="icon">‚ú®</span>
                    Siapa sangka, semesta punya caranya sendiri dalam mempertemukan kami.
                    Ditempatkan di kantor yang sama, kami memulai hari-hari sebagai rekan kerja biasa.
                    Tidak ada yang terasa istimewa di awal‚Äîhanya sapaan, tawa ringan, dan obrolan
                    seperlunya. Namun, pelan-pelan kami sadar bahwa di balik rutinitas, ada takdir
                    yang sedang Allah susun dengan rapi.
                  </p>
                </div>
              </article>

              <!-- Slide 3 -->
              <article class="story-slide" data-index="2">
                <div class="story-photo-frame">
                  <img src="img/foto8.jpeg" alt="Perjalanan Kasih" />
                  <div class="story-photo-tag">
                    <span>03</span><span>Perjalanan Kasih</span>
                  </div>
                </div>
                <div class="story-text-block">
                  <div class="story-step-pill">
                    <span>üíû</span><span>Perjalanan Kasih</span>
                  </div>
                  <div class="story-step-label">Dari Teman Menjadi Teman Hidup</div>
                  <div class="story-title">Nyaman yang Tak Pernah Direncanakan</div>
                  <p class="story-text">
                    <span class="icon">‚ú®</span>
                    Seiring berjalannya waktu, kami mulai saling mengenal lebih dekat.
                    Obrolan yang awalnya hanya sebatas pekerjaan, perlahan berubah menjadi percakapan
                    yang lebih hangat. Dari candaan ringan, cerita lelah setelah pulang kerja, hingga
                    nasihat kecil yang menenangkan. Dari percakapan kecil dan kebersamaan sederhana,
                    kami menemukan kenyamanan yang sebelumnya tak pernah kami rencanakan.
                    Hingga akhirnya, Fadil mengungkapkan isi hatinya dan cerita kami pun dimulai.
                  </p>
                </div>
              </article>

              <!-- Slide 4 -->
              <article class="story-slide" data-index="3">
                <div class="story-photo-frame">
                  <img src="img/foto12.jpeg" alt="Momen Lamaran" />
                  <div class="story-photo-tag">
                    <span>04</span><span>Lamaran</span>
                  </div>
                </div>
                <div class="story-text-block">
                  <div class="story-step-pill">
                    <span>üíç</span><span>Momen Lamaran</span>
                  </div>
                  <div class="story-step-label">Janji yang Diteguhkan</div>
                  <div class="story-title">Melangkah Lebih Serius</div>
                  <p class="story-text">
                    <span class="icon">‚ú®</span>
                    Dengan ketulusan dan keseriusannya, Fadil membawa kedua orang tuanya untuk
                    melamar Nisa. Di hadapan keluarga, kami saling mengucap niat dan tekad untuk
                    melangkah ke jenjang yang lebih serius. Hari itu bukan sekadar pertemuan dua
                    keluarga, tetapi awal dari janji untuk saling menjaga, menguatkan, dan tumbuh
                    bersama dalam kebaikan.
                  </p>
                </div>
              </article>

              <!-- Slide 5 -->
              <article class="story-slide" data-index="4">
                <div class="story-photo-frame">
                  <img src="img/foto18.jpeg" alt="Menuju Hari Bahagia" />
                  <div class="story-photo-tag">
                    <span>05</span><span>Hari Bahagia</span>
                  </div>
                </div>
                <div class="story-text-block">
                  <div class="story-step-pill">
                    <span>ü§ç</span><span>Menuju Hari Bahagia</span>
                  </div>
                  <div class="story-step-label">Dua Tahun yang Bermakna</div>
                  <div class="story-title">Menjemput Ridha dan Doa</div>
                  <p class="story-text">
                    <span class="icon">‚ú®</span>
                    Kini, setelah 2 tahun menjalani kisah bersama, kami melangkah menuju hari
                    istimewa dengan penuh rasa syukur. Hari ketika dua hati dipersatukan dalam
                    ikatan yang suci. Semoga cinta yang menyatukan kami selalu tumbuh, menguat,
                    dan menjadi berkah dalam setiap langkah kehidupan ke depannya, serta menjadi
                    jalan menuju ridha Allah dan keluarga sakinah, mawaddah, warahmah.
                  </p>
                </div>
              </article>
            </div>
          </div>

          <div class="story-dots">
            <button class="story-dot active" data-slide="0"></button>
            <button class="story-dot" data-slide="1"></button>
            <button class="story-dot" data-slide="2"></button>
            <button class="story-dot" data-slide="3"></button>
            <button class="story-dot" data-slide="4"></button>
          </div>
        </div>
      </div>
    </section>

    <!-- EVENT -->
    <section id="event" class="section-decor">
      <div class="container">
        <h2 class="section-title">Wedding</h2>
        <p class="section-subtitle">Event</p>
        <div class="section-divider"></div>

        <div class="events-wrapper">
          <!-- Akad -->
          <div class="event-card reveal">
            <div class="event-inner">
              <div class="event-type">Akad Nikah</div>
              <div class="event-title">Akad Pernikahan</div>

              <div class="event-detail">
                <span class="icon">üìÖ</span>
                <div>
                  Minggu, 28 Desember 2025<br />
                  <strong>Pukul 07.30 WIB - Selesai</strong>
                </div>
              </div>
              <div class="event-detail">
                <span class="icon">üìç</span>
                <div>
                  <span class="event-location">Gedung Sepintu Sedulang</span><br />
                  Kec. Sungailiat, Kab. Bangka,<br />Kepulauan Bangka Belitung
                </div>
              </div>
              <p class="event-note">
                Mohon kehadirannya 15‚Äì30 menit sebelum akad dimulai.
              </p>
              <a class="event-link"
                 href="https://maps.app.goo.gl/RL69VczP6o4zDicE8"
                 target="_blank"
                 rel="noopener noreferrer">
                <span class="icon">üó∫Ô∏è</span><span>Buka di Maps</span>
              </a>
              <a class="event-link event-link-secondary"
                 href="https://www.google.com/calendar/render?action=TEMPLATE&text=Akad+Pernikahan+Nisa+%26+Fadil&dates=20251228T003000Z/20251228T020000Z&details=Akad+nikah+Nisa+%26+Fadil+di+Gedung+Sepintu+Sedulang&location=Gedung+Sepintu+Sedulang,+Sungailiat,+Bangka+Belitung"
                 target="_blank"
                 rel="noopener noreferrer">
                <span class="icon">‚ûï</span><span>Simpan ke Kalender</span>
              </a>
            </div>
          </div>

          <!-- Resepsi -->
          <div class="event-card reveal">
            <div class="event-inner">
              <div class="event-type">Walimatul 'Ursy</div>
              <div class="event-title">Resepsi Pernikahan</div>

              <div class="event-detail">
                <span class="icon">üìÖ</span>
                <div>
                  Minggu, 28 Desember 2025<br />
                  <strong>Pukul 10.00 WIB - Selesai</strong>
                </div>
              </div>
              <div class="event-detail">
                <span class="icon">üìç</span>
                <div>
                  <span class="event-location">Gedung Sepintu Sedulang</span><br />
                  Kec. Sungailiat, Kab. Bangka,<br />Kepulauan Bangka Belitung
                </div>
              </div>
              <p class="event-note">
                Kehadiran dan doa restu Bapak/Ibu/Saudara/i merupakan hadiah
                terindah bagi kami.
              </p>
              <a class="event-link"
                 href="https://maps.app.goo.gl/RL69VczP6o4zDicE8"
                 target="_blank"
                 rel="noopener noreferrer">
                <span class="icon">üó∫Ô∏è</span><span>Buka di Maps</span>
              </a>
              <a class="event-link event-link-secondary"
                 href="https://www.google.com/calendar/render?action=TEMPLATE&text=Resepsi+Pernikahan+Nisa+%26+Fadil&dates=20251228T030000Z/20251228T060000Z&details=Resepsi+pernikahan+Nisa+%26+Fadil+di+Gedung+Sepintu+Sedulang&location=Gedung+Sepintu+Sedulang,+Sungailiat,+Bangka+Belitung"
                 target="_blank"
                 rel="noopener noreferrer">
                <span class="icon">‚ûï</span><span>Simpan ke Kalender</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- LOKASI -->
    <section id="location" class="section-decor">
      <div class="container">
        <h2 class="section-title">Lokasi Acara</h2>
        <p class="section-subtitle">Petunjuk Lokasi</p>
        <div class="section-divider"></div>

        <div class="card-soft map-card reveal">
          <div style="font-size:0.88rem; color:#5a4634;">
            <strong>Gedung Sepintu Sedulang</strong><br />
            Kec. Sungailiat, Kab. Bangka,<br />Kepulauan Bangka Belitung
          </div>
          <iframe
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            src="https://www.google.com/maps?q=Gedung+Sepintu+Sedulang,+Sungailiat,+Bangka+Belitung&output=embed"
          ></iframe>
        </div>
      </div>
    </section>

    <!-- WEDDING GIFT -->
    <section id="gift" class="section-decor">
      <div class="container">
        <h2 class="section-title">Wedding Gift</h2>
        <p class="section-subtitle">Tanpa Mengurangi Rasa Hormat</p>
        <div class="section-divider"></div>

        <p class="gift-intro-text reveal">
          Tanpa mengurangi rasa hormat, bagi Bapak/Ibu/Saudara/i yang ingin
          memberikan tanda kasih untuk kami, dapat melalui:
        </p>

        <div class="gift-wrapper">
          <!-- Transfer -->
          <div class="card-soft reveal">
            <div class="gift-transfer">
              <div class="gift-transfer-inner">
                <div class="gift-transfer-header">
                  <div class="gift-transfer-icon">üí≥</div>
                  <div>
                    <div class="gift-transfer-title">Kirim Hadiah Secara Transfer</div>
                    <div class="gift-transfer-sub">Praktis, aman, dan penuh berkah</div>
                  </div>
                </div>

                <p class="gift-transfer-text">
                  Jika berkenan memberikan hadiah dalam bentuk transfer, Bapak/Ibu/Saudara/i
                  dapat mengirimkannya ke rekening berikut. Setiap kebaikan yang diberikan,
                  insya Allah menjadi doa dan keberkahan untuk kita semua.
                </p>

                <div class="gift-transfer-badge-row">
                  <div class="gift-transfer-badge">
                    <span>‚úÖ</span><span>Aman &amp; langsung diterima</span>
                  </div>
                  <div class="gift-transfer-badge">
                    <span>üïäÔ∏è</span><span>Menjadi doa terbaik untuk kami</span>
                  </div>
                </div>

                <div class="gift-transfer-list">
                  <div class="gift-method">
                    <div class="gift-logo">
                      <img src="img/bri.png" alt="Bank BRI">
                    </div>
                    <div class="gift-info-main">
                      <div class="gift-bank-name">Bank BRI</div>
                      <div class="gift-rek" id="rek-fadil">003201027781533</div>
                      <div class="gift-name">a.n. Akhmad Fadil Mubarok</div>
                    </div>
                  </div>
                  <button class="copy-btn" data-copy-target="rek-fadil">
                    <span class="icon">üìã</span><span>Salin Nomor Rekening</span>
                  </button>

                  <div class="gift-method">
                    <div class="gift-logo">
                      <img src="img/bri.png" alt="Bank BRI">
                    </div>
                    <div class="gift-info-main">
                      <div class="gift-bank-name">Bank BRI</div>
                      <div class="gift-rek" id="rek-nisa">034001087760500</div>
                      <div class="gift-name">a.n. Fahrunnisa Maharani</div>
                    </div>
                  </div>
                  <button class="copy-btn" data-copy-target="rek-nisa">
                    <span class="icon">üìã</span><span>Salin Nomor Rekening</span>
                  </button>
                </div>

                <p class="gift-note">
                  Doa restu dari Bapak/Ibu/Saudara/i sudah sangat berarti bagi kami.
                  Jika berkenan berbagi melalui transfer, kami menerimanya dengan penuh rasa syukur.
                  Semoga Allah SWT membalas segala kebaikan dengan pahala yang berlipat ganda. ü§ç
                </p>
              </div>
            </div>
          </div>

          <!-- Kado fisik -->
          <div class="card-soft reveal">
            <div class="gift-physical">
              <div class="gift-physical-inner">
                <div class="gift-physical-header">
                  <div class="gift-physical-icon">üéÅ</div>
                  <div>
                    <div class="gift-physical-title">Kirim Hadiah / Kado Fisik</div>
                    <div class="gift-physical-sub">Dengan Penuh Rasa Syukur</div>
                  </div>
                </div>
                <div class="gift-physical-body">
                  <p>
                    Bagi Bapak/Ibu/Saudara/i yang ingin mengirimkan kado secara langsung,
                    kami dengan senang hati menerimanya melalui alamat berikut.
                  </p>

                  <ul class="gift-steps">
                    <li class="gift-step-item">
                      <div class="gift-step-badge">1</div>
                      <div class="gift-step-text">
                        <strong>Siapkan kado terbaik</strong> yang ingin Bapak/Ibu/Saudara/i berikan
                        untuk kami.
                      </div>
                    </li>
                    <li class="gift-step-item">
                      <div class="gift-step-badge">2</div>
                      <div class="gift-step-text">
                        <strong>Kirimkan ke alamat di bawah ini</strong> atau dapat diantar langsung
                        pada saat hari H acara resepsi.
                      </div>
                    </li>
                    <li class="gift-step-item">
                      <div class="gift-step-badge">3</div>
                      <div class="gift-step-text">
                        <strong>Mohon cantumkan nama pengirim</strong> pada paket agar kami dapat
                        menyampaikan ucapan terima kasih secara khusus.
                      </div>
                    </li>
                  </ul>

                  <div class="gift-physical-address" id="alamat-kado">
                    <strong>Penerima:</strong> Fahrunnisa Maharani<br />
                    <strong>Alamat:</strong> Jl. Bukit Semut No. 10 (Gang Belakang Dinas Lingkungan Hidup),
                    Kel. Bukit Betung, Kec. Sungailiat, Kabupaten Bangka,
                    Kepulauan Bangka Belitung
                  </div>

                  <div class="gift-physical-tools">
                    <button class="copy-btn" data-copy-target="alamat-kado">
                      <span class="icon">üìã</span><span>Salin Alamat Penerima</span>
                    </button>
                  </div>

                  <div class="gift-physical-smallnote">
                    Semoga setiap kado yang dikirimkan menjadi wasilah bertambahnya keberkahan
                    dan kebaikan bagi kita semua. Kami ucapkan terima kasih yang sebesar-besarnya
                    atas segala perhatian dan kasih sayang yang diberikan.
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- end kado fisik -->
        </div>
      </div>
    </section>

    <!-- RSVP -->
    <section id="rsvp" class="section-decor">
      <div class="container">
        <h2 class="section-title">Konfirmasi Kehadiran</h2>
        <p class="section-subtitle">RSVP</p>
        <div class="section-divider"></div>

        <div class="rsvp-wrapper">
          <!-- Info -->
          <div class="card-soft rsvp-card reveal">
            <div class="rsvp-card-inner">
              <div class="rsvp-step-label">Informasi</div>
              <h3>Konfirmasi Kehadiran Anda</h3>
              <div class="rsvp-text">
                <p>
                  Untuk membantu kami menyiapkan segala sesuatu dengan lebih baik,
                  mohon kesediaan Bapak/Ibu/Saudara/i untuk mengisi konfirmasi
                  kehadiran. Data ini akan kami gunakan sebagai acuan dalam
                  menyiapkan tempat, konsumsi, dan kebutuhan lainnya.
                </p>
                <p style="margin-top:0.7rem;">
                  Mohon mengisi nama lengkap, status kehadiran, serta jumlah tamu
                  yang akan hadir. Ucapan dan doa juga sangat kami nantikan melalui
                  kolom pesan.
                </p>
              </div>

              <div class="rsvp-highlight">
                <div class="rsvp-pil">
                  <span class="icon">üìù</span>
                  <span>Data langsung terekam ke spreadsheet panitia.</span>
                </div>
                <div class="rsvp-pil">
                  <span class="icon">üíö</span>
                  <span>Ucapan bisa dituliskan sekaligus saat mengisi RSVP.</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Form -->
          <div class="card-soft rsvp-card reveal">
            <div class="rsvp-card-inner">
              <div class="rsvp-step-label">Formulir</div>
              <h3>Isi Form RSVP</h3>
              <form id="rsvpForm" class="rsvp-form">
                <div class="form-group">
                  <label for="rsvpName">Nama Lengkap</label>
                  <input type="text" id="rsvpName" required placeholder="Nama Anda" />
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label for="rsvpPhone">No. WhatsApp</label>
                    <input type="tel" id="rsvpPhone" placeholder="08xxxxxxxxxx" />
                  </div>
                  <div class="form-group">
                    <label for="rsvpStatus">Kehadiran</label>
                    <select id="rsvpStatus" required>
                      <option value="Insya Allah Hadir">Insya Allah Hadir</option>
                      <option value="Belum Pasti">Belum Pasti</option>
                      <option value="Maaf Tidak Bisa Hadir">Maaf Tidak Bisa Hadir</option>
                    </select>
                  </div>
                </div>
                <div class="form-group">
                  <label for="rsvpGuests">Jumlah Orang yang Hadir</label>
                  <input type="number" id="rsvpGuests" min="1" max="20" value="1" />
                </div>
                <div class="form-group">
                  <label for="rsvpMessage">Ucapan / Pesan</label>
                  <textarea id="rsvpMessage" rows="3" placeholder="Ucapan singkat untuk kedua mempelai"></textarea>
                </div>

                <button type="submit" class="rsvp-btn">
                  <span class="icon">üíö</span><span>Kirim RSVP</span>
                </button>
                <div class="small-hint" id="rsvpStatusMsg">
                  Data RSVP akan dikirim ke spreadsheet panitia.
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- Rekap RSVP -->
        <div class="rsvp-summary-card card-soft reveal">
          <div class="rsvp-summary-header">
            <div class="rsvp-summary-icon">üìä</div>
            <div>
              <div class="rsvp-summary-title">Rekap Konfirmasi Kehadiran</div>
              <div class="rsvp-summary-sub">Update otomatis dari data RSVP</div>
            </div>
          </div>
          <div class="rsvp-summary-grid">
            <div class="rsvp-summary-item">
              <div class="rsvp-summary-label">Insya Allah Hadir</div>
              <div class="rsvp-summary-count" id="rsvpSumHadir">0</div>
              <div style="font-size:0.78rem; color:#8a6b48;">Perkiraan jumlah tamu yang akan hadir.</div>
            </div>
            <div class="rsvp-summary-item">
              <div class="rsvp-summary-label">Belum Pasti</div>
              <div class="rsvp-summary-count" id="rsvpSumBelum">0</div>
              <div style="font-size:0.78rem; color:#8a6b48;">Tamu yang masih menyesuaikan jadwal.</div>
            </div>
            <div class="rsvp-summary-item">
              <div class="rsvp-summary-label">Tidak Dapat Hadir</div>
              <div class="rsvp-summary-count" id="rsvpSumTidak">0</div>
              <div style="font-size:0.78rem; color:#8a6b48;">Tamu yang berhalangan hadir namun tetap mendoakan.</div>
            </div>
          </div>
          <div class="rsvp-summary-foot">
            Total entri RSVP: <strong><span id="rsvpSumTotal">0</span> tamu</strong>. 
            Rekap ini membantu kami menyiapkan kursi dan konsumsi sebaik mungkin.
          </div>
        </div>
      </div>
    </section>

    <!-- GALERI ‚Äì foto1 sampai foto25 -->
    <section id="gallery" class="section-decor">
      <div class="container">
        <h2 class="section-title">Wedding</h2>
        <p class="section-subtitle">Galery</p>
        <div class="section-divider"></div>

        <div class="gallery-grid">
          <!-- 1-25 -->
          <figure class="gallery-item reveal"><img src="img/foto1.jpeg" alt="foto1"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto2.jpeg" alt="foto2"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto3.jpeg" alt="foto3"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto4.jpeg" alt="foto4"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto5.jpeg" alt="foto5"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto6.jpeg" alt="foto6"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto7.jpeg" alt="foto7"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto8.jpeg" alt="foto8"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto9.jpeg" alt="foto9"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto10.jpeg" alt="foto10"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto11.jpeg" alt="foto11"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto12.jpeg" alt="foto12"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto13.jpeg" alt="foto13"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto14.jpeg" alt="foto14"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto15.jpeg" alt="foto15"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto16.jpeg" alt="foto16"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto17.jpeg" alt="foto17"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto18.jpeg" alt="foto18"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto19.jpeg" alt="foto19"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto20.jpeg" alt="foto20"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto21.jpeg" alt="foto21"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto22.jpeg" alt="foto22"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto23.jpeg" alt="foto23"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto24.jpeg" alt="foto24"><figcaption>Our Moment</figcaption></figure>
          <figure class="gallery-item reveal"><img src="img/foto25.jpeg" alt="foto25"><figcaption>Our Moment</figcaption></figure>
        </div>
      </div>
    </section>

    <!-- GUESTBOOK -->
    <section id="guestbook" class="section-decor">
      <div class="container">
        <h2 class="section-title">Berikan Ucapan &amp; Doa</h2>
        <p class="section-subtitle">Guestbook</p>
        <div class="section-divider"></div>

        <div class="guestbook-wrapper">
          <!-- List ucapan -->
          <div class="card-soft reveal">
            <h3 style="font-size:1rem; font-weight:600; color:#4a331f; margin-bottom:0.9rem; font-family:'Cinzel',serif;">
              Ucapan yang Masuk
            </h3>
            <div id="guestList" class="guest-list">
              <!-- Diisi via JS -->
            </div>
          </div>

          <!-- Form ucapan -->
          <div class="card-soft reveal">
            <h3 style="font-size:1rem; font-weight:600; color:#4a331f; margin-bottom:0.9rem; font-family:'Cinzel',serif;">
              Kirim Doa &amp; Ucapan
            </h3>
            <form id="guestForm" class="rsvp-form">
              <div class="form-group">
                <label for="guestName">Nama</label>
                <input type="text" id="guestName" required placeholder="Nama lengkap Anda" />
              </div>
              <div class="form-group">
                <label for="guestRelation">Hubungan dengan Mempelai</label>
                <input type="text" id="guestRelation" placeholder="Teman kerja, saudara, tetangga, dll." />
              </div>
              <div class="form-group">
                <label for="guestMessage">Ucapan</label>
                <textarea id="guestMessage" rows="3" required placeholder="Tuliskan doa terbaik Anda di sini"></textarea>
              </div>
              <button type="submit" class="rsvp-btn">
                <span class="icon">‚ú®</span><span>Kirim Ucapan</span>
              </button>
              <div class="small-hint">
                Ucapan akan langsung tampil di halaman ini dan disimpan di spreadsheet.
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- SHARE -->
    <section id="share" class="section-decor">
      <div class="container">
        <h2 class="section-title">Bagikan Undangan</h2>
        <p class="section-subtitle">Sebarkan Kebahagiaan</p>
        <div class="section-divider"></div>

        <div class="card-soft reveal">
          <div class="share-card">
            <div class="share-card-inner">
              <div class="share-header">
                <div class="share-icon">üì£</div>
                <div>
                  <div class="share-title">Sebarkan Undangan Ini</div>
                  <div class="share-sub">Ajak orang-orang tersayang merasakan kebahagiaan yang sama</div>
                </div>
              </div>
              <p class="share-text">
                Bantu kami menyebarkan kabar bahagia ini kepada keluarga, sahabat, dan orang-orang terdekat.
                Anda dapat membagikan undangan ini melalui aplikasi pesan, media sosial, ataupun menyalin link.
              </p>
              <div class="share-actions">
                <button class="share-btn" id="btnShareNative">
                  <span>üì≤</span><span>Share via App</span>
                </button>
                <button class="share-btn" id="btnShareWA">
                  <span>üíö</span><span>Share WhatsApp</span>
                </button>
                <button class="share-btn" id="btnCopyLink">
                  <span>üîó</span><span>Copy Link</span>
                </button>
              </div>
              <div class="share-footer">
                <span class="share-hint">
                  Bagikan kepada orang yang Anda sayangi, agar doa dan kebahagiaan semakin meluas.
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- LIGHTBOX / CAROUSEL -->
  <div id="lightbox">
    <div class="lightbox-inner">
      <button class="lightbox-close" id="lightboxClose">Tutup ‚úï</button>
      <button class="lightbox-nav prev" id="lightboxPrev">‚Äπ</button>
      <button class="lightbox-nav next" id="lightboxNext">‚Ä∫</button>
      <div class="lightbox-img-wrapper">
        <img id="lightboxImg" src="" alt="Preview Foto">
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <div class="footer-thanks-title">Thank You</div>
    <div class="footer-names">Nisa &amp; Fadil</div>
    <div>28 Desember 2025</div>
    <p class="footer-small">
      Wa'alaikumussalam Warahmatullahi Wabarakatuh.<br />
      Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i
      berkenan hadir serta memberikan doa restu.
    </p>

    <div class="back-to-top" id="backToTop">
      <span>‚¨Ü</span><span>Kembali ke Atas</span>
    </div>
  </footer>

  <script>
    // GANTI URL BERIKUT DENGAN WEB APP URL HASIL DEPLOY APPS SCRIPT MU
    const SHEET_SCRIPT_URL =
      "https://script.google.com/macros/s/AKfycbza0fNOgZhdf25PJD_oW8yHLtWFub875zEs9N6HG1cZOWPUu68hwZ9IaQELT5CcSKZPXw/exec";

    // Matikan auto scroll restore
    if ("scrollRestoration" in history) history.scrollRestoration = "manual";
    window.addEventListener("load", () => {
      window.scrollTo(0, 0);
    });

    // ==== Helper query param ====
    function getQueryParam(key) {
      const params = new URLSearchParams(window.location.search);
      return params.get(key) || "";
    }

    // Isi nama tamu di cover dari ?to=
    (function fillGuestName() {
      const name = getQueryParam("to");
      const el = document.getElementById("guestNameCover");
      if (el) el.textContent = name ? name : "Bapak/Ibu/Saudara/i";
    })();

    // ==== COVER & MUSIK ====
    const cover = document.getElementById("cover");
    const btnOpenCover = document.getElementById("btnOpenCover");
    const bgm = document.getElementById("bgm");
    const fabMusicLabel = document.getElementById("fabMusicLabel");
    let bgmStarted = false;

    btnOpenCover.addEventListener("click", () => {
      cover.style.display = "none";
      document.body.classList.remove("locked");
      document.body.classList.add("unlocked");
      document.getElementById("hero").scrollIntoView({ behavior: "smooth" });

      if (bgm && !bgmStarted) {
        bgm.volume = 0.8;
        bgm
          .play()
          .then(() => {
            bgmStarted = true;
            fabMusicLabel.textContent = "Musik Menyala";
          })
          .catch(() => {});
      }
    });

    // ==== NAVBAR & FAB ====
    const navToggle = document.getElementById("navToggle");
    const navLinks = document.getElementById("navLinks");
    navToggle.addEventListener("click", () => {
      navLinks.classList.toggle("open");
    });

    document
      .querySelectorAll(".nav-links button[data-scroll]")
      .forEach((btn) => {
        btn.addEventListener("click", () => {
          const target = btn.getAttribute("data-scroll");
          const el = document.querySelector(target);
          if (el) el.scrollIntoView({ behavior: "smooth" });
          if (window.innerWidth <= 768) navLinks.classList.remove("open");
        });
      });

    document.getElementById("fabRSVP").addEventListener("click", () => {
      document.getElementById("rsvp").scrollIntoView({ behavior: "smooth" });
    });

    document.getElementById("fabMusic").addEventListener("click", () => {
      if (!bgm) return;
      if (bgm.paused) {
        bgm
          .play()
          .then(() => {
            bgmStarted = true;
            fabMusicLabel.textContent = "Musik Menyala";
          })
          .catch(() => {});
      } else {
        bgm.pause();
        fabMusicLabel.textContent = "Musik Dimatikan";
      }
    });

    document.getElementById("backToTop").addEventListener("click", () => {
      document.getElementById("hero").scrollIntoView({ behavior: "smooth" });
    });

    // ==== REVEAL ANIMATION ====
    if ("IntersectionObserver" in window) {
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("show");
              observer.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.12 }
      );
      document.querySelectorAll(".reveal").forEach((el) => observer.observe(el));
    } else {
      document
        .querySelectorAll(".reveal")
        .forEach((el) => el.classList.add("show"));
    }

    // ==== COUNTDOWN ====
    (function initCountdown() {
      const targetDate = new Date("2025-12-28T07:30:00+07:00");
      const daysEl = document.getElementById("cd-days");
      const hoursEl = document.getElementById("cd-hours");
      const minutesEl = document.getElementById("cd-minutes");
      const secondsEl = document.getElementById("cd-seconds");
      const finishMsg = document.getElementById("countdown-finish");
      const countdownBox = document.getElementById("countdown");

      function updateCountdown() {
        const now = new Date();
        const diff = targetDate.getTime() - now.getTime();
        if (diff <= 0) {
          countdownBox.style.display = "none";
          finishMsg.style.display = "block";
          clearInterval(timer);
          return;
        }
        const totalSeconds = Math.floor(diff / 1000);
        const days = Math.floor(totalSeconds / (3600 * 24));
        const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
        const minutes = Math.floor((totalSeconds % 3600) / 60);
        const seconds = totalSeconds % 60;

        daysEl.textContent = String(days).padStart(2, "0");
        hoursEl.textContent = String(hours).padStart(2, "0");
        minutesEl.textContent = String(minutes).padStart(2, "0");
        secondsEl.textContent = String(seconds).padStart(2, "0");
      }

      updateCountdown();
      const timer = setInterval(updateCountdown, 1000);
    })();

    // ==== SALIN TEKS (REK / ALAMAT) ====
    document.querySelectorAll(".copy-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        const targetId = btn.getAttribute("data-copy-target");
        const targetEl = document.getElementById(targetId);
        if (!targetEl) return;

        const text = targetEl.innerText || targetEl.textContent || "";
        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(text);
        } else {
          const temp = document.createElement("textarea");
          temp.value = text;
          document.body.appendChild(temp);
          temp.select();
          document.execCommand("copy");
          document.body.removeChild(temp);
        }

        const original = btn.innerHTML;
        btn.innerHTML = "‚úÖ Tersalin";
        setTimeout(() => {
          btn.innerHTML = original;
        }, 1500);
      });
    });

    // =========================================
    //           LOVE STORY CAROUSEL
    // =========================================
    (function initStoryCarousel() {
      const slides = Array.from(document.querySelectorAll(".story-slide"));
      const dots = Array.from(document.querySelectorAll(".story-dot"));
      const btnPrev = document.getElementById("storyPrev");
      const btnNext = document.getElementById("storyNext");
      if (!slides.length) return;

      let currentIndex = 0;

      function showSlide(index) {
        const total = slides.length;
        if (index < 0) index = total - 1;
        if (index >= total) index = 0;
        currentIndex = index;

        slides.forEach((slide, i) => {
          slide.classList.toggle("active", i === currentIndex);
        });
        dots.forEach((dot, i) => {
          dot.classList.toggle("active", i === currentIndex);
        });
      }

      btnPrev.addEventListener("click", () => {
        showSlide(currentIndex - 1);
        resetAuto();
      });
      btnNext.addEventListener("click", () => {
        showSlide(currentIndex + 1);
        resetAuto();
      });
      dots.forEach((dot, i) => {
        dot.addEventListener("click", () => {
          showSlide(i);
          resetAuto();
        });
      });

      // Auto slide
      let autoTimer = setInterval(() => {
        showSlide(currentIndex + 1);
      }, 9000);

      function resetAuto() {
        clearInterval(autoTimer);
        autoTimer = setInterval(() => {
          showSlide(currentIndex + 1);
        }, 9000);
      }

      showSlide(0);
    })();

    // =========================================
    //              RSVP + REKAP
    // =========================================
    const rsvpSummary = { hadir: 0, belum: 0, tidak: 0 };

    function renderRsvpSummary() {
      const hadirEl = document.getElementById("rsvpSumHadir");
      const belumEl = document.getElementById("rsvpSumBelum");
      const tidakEl = document.getElementById("rsvpSumTidak");
      const totalEl = document.getElementById("rsvpSumTotal");
      if (!hadirEl) return;

      hadirEl.textContent = rsvpSummary.hadir;
      belumEl.textContent = rsvpSummary.belum;
      tidakEl.textContent = rsvpSummary.tidak;
      const total = rsvpSummary.hadir + rsvpSummary.belum + rsvpSummary.tidak;
      totalEl.textContent = total;
    }

    async function loadRsvpSummaryFromServer() {
      if (
        !SHEET_SCRIPT_URL ||
        SHEET_SCRIPT_URL.indexOf("PASTE_APPS_SCRIPT_WEB_APP_URL_HERE") !== -1
      ) {
        renderRsvpSummary();
        return;
      }
      try {
        const res = await fetch(SHEET_SCRIPT_URL + "?type=rsvp_stats");
        if (!res.ok) throw new Error("HTTP " + res.status);
        const data = await res.json();
        rsvpSummary.hadir = parseInt(data.hadir || 0, 10) || 0;
        rsvpSummary.belum = parseInt(data.belum || 0, 10) || 0;
        rsvpSummary.tidak = parseInt(data.tidak || 0, 10) || 0;
      } catch (err) {
        console.log("Gagal load rekap RSVP dari server:", err);
      }
      renderRsvpSummary();
    }

    document
      .getElementById("rsvpForm")
      .addEventListener("submit", function (e) {
        e.preventDefault();
        const name = document.getElementById("rsvpName").value.trim();
        const phone = document.getElementById("rsvpPhone").value.trim();
        const status = document.getElementById("rsvpStatus").value;
        const guests = document.getElementById("rsvpGuests").value || "1";
        const msg = document.getElementById("rsvpMessage").value.trim();
        const statusMsg = document.getElementById("rsvpStatusMsg");

        if (!name) return;

        const payload = {
          type: "rsvp",
          nama: name,
          whatsapp: phone,
          status: status,
          jumlah: guests,
          ucapan: msg,
        };

        statusMsg.textContent = "Mengirim data...";
        statusMsg.style.color = "#8a6b48";

        const btn = this.querySelector('button[type="submit"]');
        const originalBtnText = btn.innerHTML;
        btn.disabled = true;
        btn.innerHTML = '<span class="icon">‚è≥</span><span>Mengirim...</span>';

        const sendData = async () => {
          try {
            if (
              !SHEET_SCRIPT_URL ||
              SHEET_SCRIPT_URL.indexOf(
                "PASTE_APPS_SCRIPT_WEB_APP_URL_HERE"
              ) !== -1
            ) {
              // Jika URL belum diganti, anggap saja sukses lokal
            } else {
              const res = await fetch(SHEET_SCRIPT_URL, {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                },
                body: JSON.stringify(payload),
              });
              if (!res.ok) throw new Error("HTTP " + res.status);
            }

            statusMsg.textContent =
              "Terima kasih, konfirmasi kehadiran Anda sudah terkirim.";
            statusMsg.style.color = "#1e7e34";

            // Update rekap sederhana di sisi front-end
            if (status === "Insya Allah Hadir") {
              rsvpSummary.hadir++;
            } else if (status === "Belum Pasti") {
              rsvpSummary.belum++;
            } else {
              rsvpSummary.tidak++;
            }
            renderRsvpSummary();

            // Reset form
            this.reset();
            document.getElementById("rsvpGuests").value = "1";
          } catch (err) {
            console.error("Gagal kirim RSVP:", err);
            statusMsg.textContent =
              "Maaf, terjadi kendala saat mengirim data. Silakan coba lagi.";
            statusMsg.style.color = "#b3261e";
          } finally {
            btn.disabled = false;
            btn.innerHTML = originalBtnText;
          }
        };

        sendData();
      });

    // =========================================
    //              GUESTBOOK
    // =========================================
    const guestListEl = document.getElementById("guestList");
    const guestForm = document.getElementById("guestForm");

    function renderEmptyGuest() {
      if (!guestListEl) return;
      guestListEl.innerHTML =
        '<div class="guest-empty">Belum ada ucapan yang masuk. Jadilah yang pertama mengirim doa untuk kedua mempelai. ü§ç</div>';
    }

    function createGuestCard(item) {
      const nama = item.nama || "Tamu";
      const hubungan = item.hubungan || "";
      const ucapan = item.ucapan || "";
      const waktu = item.waktu || "";

      const div = document.createElement("div");
      div.className = "guest-card";

      const initial = (nama || "T").charAt(0).toUpperCase();

      div.innerHTML = `
        <div class="guest-card-header">
          <div class="guest-avatar">${initial}</div>
          <div class="guest-card-meta-wrap">
            <div class="guest-card-name" title="${nama}">${nama}</div>
            <div class="guest-card-meta">
              ${hubungan ? hubungan + " ¬∑ " : ""}${waktu}
            </div>
          </div>
        </div>
        <div class="guest-quote">
          ${ucapan}
        </div>
      `;
      return div;
    }

    async function loadGuestbook() {
      if (!guestListEl) return;
      guestListEl.innerHTML = "";

      if (
        !SHEET_SCRIPT_URL ||
        SHEET_SCRIPT_URL.indexOf("PASTE_APPS_SCRIPT_WEB_APP_URL_HERE") !== -1
      ) {
        renderEmptyGuest();
        return;
      }

      try {
        const res = await fetch(SHEET_SCRIPT_URL + "?type=guestbook_list");
        if (!res.ok) throw new Error("HTTP " + res.status);
        const data = await res.json();
        if (!data || !data.length) {
          renderEmptyGuest();
          return;
        }

        data.forEach((item) => {
          const card = createGuestCard(item);
          guestListEl.appendChild(card);
        });
      } catch (err) {
        console.error("Gagal load guestbook:", err);
        renderEmptyGuest();
      }
    }

    if (guestForm) {
      guestForm.addEventListener("submit", function (e) {
        e.preventDefault();
        const nama = document.getElementById("guestName").value.trim();
        const hubungan = document
          .getElementById("guestRelation")
          .value.trim();
        const ucapan = document
          .getElementById("guestMessage")
          .value.trim();

        if (!nama || !ucapan) return;

        const payload = {
          type: "guestbook",
          nama,
          hubungan,
          ucapan,
        };

        const btn = this.querySelector('button[type="submit"]');
        const original = btn.innerHTML;
        btn.disabled = true;
        btn.innerHTML =
          '<span class="icon">‚è≥</span><span>Mengirim...</span>';

        const smallHint = this.querySelector(".small-hint");
        if (smallHint) {
          smallHint.textContent = "Mengirim ucapan...";
          smallHint.style.color = "#8a6b48";
        }

        const send = async () => {
          try {
            if (
              !SHEET_SCRIPT_URL ||
              SHEET_SCRIPT_URL.indexOf(
                "PASTE_APPS_SCRIPT_WEB_APP_URL_HERE"
              ) !== -1
            ) {
              // mode lokal
            } else {
              const res = await fetch(SHEET_SCRIPT_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload),
              });
              if (!res.ok) throw new Error("HTTP " + res.status);
            }

            // Tambahkan ke list di atas (prepend)
            const item = {
              nama,
              hubungan,
              ucapan,
              waktu: "Baru saja",
            };
            const card = createGuestCard(item);
            if (guestListEl) {
              if (
                guestListEl.firstElementChild &&
                guestListEl.firstElementChild.classList.contains(
                  "guest-empty"
                )
              ) {
                guestListEl.innerHTML = "";
              }
              guestListEl.insertBefore(card, guestListEl.firstChild);
            }

            this.reset();
            if (smallHint) {
              smallHint.textContent =
                "Terima kasih, ucapan Anda sudah terkirim.";
              smallHint.style.color = "#1e7e34";
            }
          } catch (err) {
            console.error("Gagal kirim ucapan:", err);
            if (smallHint) {
              smallHint.textContent =
                "Maaf, terjadi kendala saat mengirim ucapan. Silakan coba lagi.";
              smallHint.style.color = "#b3261e";
            }
          } finally {
            btn.disabled = false;
            btn.innerHTML = original;
          }
        };

        send();
      });
    }

    // =========================================
    //              GALERY LIGHTBOX
    // =========================================
    (function initLightbox() {
      const lightbox = document.getElementById("lightbox");
      const lightboxImg = document.getElementById("lightboxImg");
      const btnClose = document.getElementById("lightboxClose");
      const btnPrev = document.getElementById("lightboxPrev");
      const btnNext = document.getElementById("lightboxNext");

      const galleryItems = Array.from(
        document.querySelectorAll("#gallery .gallery-item img")
      );
      if (!lightbox || !lightboxImg || !galleryItems.length) return;

      let currentIndex = 0;

      function openLightbox(index) {
        currentIndex = index;
        const img = galleryItems[currentIndex];
        if (!img) return;
        lightboxImg.src = img.src;
        lightboxImg.alt = img.alt || "Preview Foto";
        lightbox.classList.add("open");
        document.body.classList.add("locked");
      }

      function closeLightbox() {
        lightbox.classList.remove("open");
        document.body.classList.remove("locked");
        lightboxImg.src = "";
      }

      function showNext(step) {
        const total = galleryItems.length;
        currentIndex = (currentIndex + step + total) % total;
        const img = galleryItems[currentIndex];
        if (!img) return;
        lightboxImg.src = img.src;
        lightboxImg.alt = img.alt || "Preview Foto";
      }

      galleryItems.forEach((img, index) => {
        img.parentElement.addEventListener("click", () => openLightbox(index));
      });

      btnClose.addEventListener("click", closeLightbox);
      btnPrev.addEventListener("click", () => showNext(-1));
      btnNext.addEventListener("click", () => showNext(1));

      // Tutup jika klik area gelap di luar foto
      lightbox.addEventListener("click", (e) => {
        if (e.target === lightbox) {
          closeLightbox();
        }
      });

      // Keyboard: ESC & panah
      document.addEventListener("keydown", (e) => {
        if (!lightbox.classList.contains("open")) return;
        if (e.key === "Escape") closeLightbox();
        if (e.key === "ArrowRight") showNext(1);
        if (e.key === "ArrowLeft") showNext(-1);
      });
    })();

    // =========================================
    //              SHARE SECTION
    // =========================================
    (function initShare() {
      const btnShareNative = document.getElementById("btnShareNative");
      const btnShareWA = document.getElementById("btnShareWA");
      const btnCopyLink = document.getElementById("btnCopyLink");
      const currentUrl = window.location.href.split("#")[0];

      if (btnShareNative) {
        btnShareNative.addEventListener("click", async () => {
          const shareData = {
            title: "Undangan Pernikahan Nisa & Fadil",
            text:
              "Assalamu'alaikum, berikut undangan pernikahan Nisa & Fadil. Kami sangat mengharapkan doa dan kehadiran Anda.",
            url: currentUrl,
          };
          if (navigator.share) {
            try {
              await navigator.share(shareData);
            } catch (err) {
              console.log("Share dibatalkan:", err);
            }
          } else {
            alert(
              "Fitur share belum didukung di perangkat ini. Silakan gunakan tombol WhatsApp atau Copy Link."
            );
          }
        });
      }

      if (btnShareWA) {
        btnShareWA.addEventListener("click", () => {
          const text =
            "Assalamu'alaikum, berikut undangan pernikahan Nisa & Fadil:\n\n" +
            currentUrl +
            "\n\nKami sangat mengharapkan doa dan kehadiran Anda.";
          const waUrl =
            "https://wa.me/?text=" + encodeURIComponent(text);
          window.open(waUrl, "_blank");
        });
      }

      if (btnCopyLink) {
        btnCopyLink.addEventListener("click", () => {
          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(currentUrl);
          } else {
            const temp = document.createElement("textarea");
            temp.value = currentUrl;
            document.body.appendChild(temp);
            temp.select();
            document.execCommand("copy");
            document.body.removeChild(temp);
          }

          const original = btnCopyLink.innerHTML;
          btnCopyLink.innerHTML =
            '<span>‚úÖ</span><span>Link Tersalin</span>';
          setTimeout(() => {
            btnCopyLink.innerHTML = original;
          }, 1500);
        });
      }
    })();

    // Load data awal
    loadRsvpSummaryFromServer();
    loadGuestbook();
  </script>
</body>
</html>
